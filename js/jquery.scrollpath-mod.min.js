(function(a,b,c,d){function x(b,c){function u(a,b){h=a;k=b}function v(a,b){o=Math.min(a,o);p=Math.min(b,p);m=Math.max(a,m);n=Math.max(b,n)}var d=40,e=b,g=c,h=0,k=0,l=0,m=0,n=0,o=0,p=0,q=[{method:"moveTo",args:[0,0]}],r=[],s={},t={rotate:null,callback:null,name:null};this.rotate=function(b,c){var d=a.extend({},t,c),e=Math.abs(b-l),i=Math.round(e/g)*j,m=(b-l)/i,n=1;if(!f){if(d.name||d.callback){this.moveTo(h,k,{callback:d.callback,name:d.name})}return this}for(;n<=i;n++){r.push({x:h,y:k,rotate:l+m*n,callback:n===i?d.callback:null})}if(d.name)s[d.name]=r.length-1;l=b%(Math.PI*2);return this};this.moveTo=function(b,c,d){var e=a.extend({},t,d),f=r.length?j:1;i=0;for(;i<f;i++){r.push({x:b,y:c,rotate:e.rotate!==null?e.rotate:l,callback:i===f-1?e.callback:null})}if(e.name)s[e.name]=r.length-1;u(b,c);v(b,c);q.push({method:"moveTo",args:arguments});return this};this.lineTo=function(b,c,d){var g=a.extend({},t,d),i=b-h,m=c-k,n=N(i,m),o=Math.round(n/e)*j,p=i/o,w=m/o,x=g.rotate!==null&&f,y=x?(g.rotate-l)/o:0,z=1;for(;z<=o;z++){r.push({x:h+p*z,y:k+w*z,rotate:l+y*z,callback:z===o?g.callback:null})}if(g.name)s[g.name]=r.length-1;l=x?g.rotate:l;u(b,c);v(b,c);q.push({method:"lineTo",args:arguments});return this};this.arc=function(b,c,d,g,i,m,n){var o=a.extend({},t,n),p=b+Math.cos(g)*d,w=c+Math.sin(g)*d,x=b+Math.cos(i)*d,y=c+Math.sin(i)*d,z=J(g,i,m),A=d*z,B=Math.round(A/e)*j,C=z/B*(m?-1:1),D=o.rotate!==null&&f,E=D?(o.rotate-l)/B:0,F=1;if(h!==p||k!==w){this.lineTo(p,w)}for(;F<=B;F++){r.push({x:b+d*Math.cos(g+C*F),y:c+d*Math.sin(g+C*F),rotate:l+E*F,callback:F===B?o.callback:null})}if(o.name)s[o.name]=r.length-1;l=D?o.rotate:l;u(x,y);v(b+d,c+d);v(b-d,c-d);q.push({method:"arc",args:arguments});return this};this.getPath=function(){return r};this.getNameMap=function(){return s};this.getCanvasPath=function(){var a=0;for(;a<q.length;a++){q[a].args[0]-=this.getPathOffsetX();q[a].args[1]-=this.getPathOffsetY()}return q};this.getPathWidth=function(){return m-o+d};this.getPathHeight=function(){return n-p+d};this.getPathOffsetX=function(){return o-d/2};this.getPathOffsetY=function(){return p-d/2}}function y(){if(!v.drawPath||!g)return;var b,c={position:"absolute","z-index":9998,left:p.getPathOffsetX(),top:p.getPathOffsetY(),"pointer-events":"none"};G(c,"user-select","none");G(c,"user-drag","none");b=a("<canvas>").addClass("sp-canvas").css(c).prependTo(r);b[0].width=p.getPathWidth();b[0].height=p.getPathHeight();z(b[0].getContext("2d"),p.getCanvasPath())}function z(a,b){var c=0;a.shadowBlur=15;a.shadowColor="black";a.strokeStyle="white";a.lineJoin="round";a.lineCap="round";a.lineWidth=10;for(;c<b.length;c++){a[b[c].method].apply(a,b[c].args)}a.stroke()}function A(b,c,d,e){if(b===0||n)return;if(!c||typeof c!=="number"){if(typeof c==="function")c();return scrollSteps(b)}n=true;var f=c/1e3*h,g=o,i=0,j,k,l=setInterval(function(){j=Math.round((a.easing[d]||a.easing.swing)(++i/f,c/f*i,0,b,c));k=D(g+j);if(i===f){clearInterval(l);if(typeof d==="function"){d()}else if(e){e()}n=false}B(k,true)},c/f)}function B(a,b){if(n&&!b)return;var c;if(q[a]){c=q[a].callback;r.css(E(q[a]))}if(t)t.css("top",a/(q.length-1)*(s.height()-t.height())+"px");if(c&&a!==o&&!n)c();o=a}function C(a){return p.getNameMap()[a]}function D(a){if(v.wrapAround){if(n){while(a<0)a+=q.length;while(a>=q.length)a-=q.length}else{if(a<0)a=q.length-1;if(a>=q.length)a=0}}else{a=K(a,0,q.length-1)}return a}function E(c){var d=c.x-a(b).width()/2,e=c.y-a(b).height()/2,f={};if(M(c.rotate)===0){f.left=-d;f.top=-e;G(f,"transform-origin","");G(f,"transform","")}else{f.left=f.top="";G(f,"transform-origin",c.x+"px "+c.y+"px");G(f,"transform","translate("+ -d+"px, "+ -e+"px) rotate("+c.rotate+"rad)")}return f}function F(){var a=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,b=c.getElementsByTagName("script")[0];for(var d in b.style){if(a.test(d)){return d.match(a)[0]}}if("WebkitOpacity"in b.style)return"Webkit";if("KhtmlOpacity"in b.style)return"Khtml";return""}function G(a,b,c){a[e+b]=a[b]=c}function H(){var a=c.createElement("dummy").style,b=["transform","WebkitTransform","MozTransform","OTransform","msTransform","KhtmlTransform"],e=0;for(;e<b.length;e++){if(a[b[e]]!==d){return true}}return false}function I(){return!!c.createElement("canvas").getContext}function J(a,b,c){var d=M(a),e=M(b),f=Math.abs(d-e),g=Math.PI*2-f;if(c&&d<e||!c&&d>e||d===e&&a!==b){return g}return f}function K(a,b,c){if(a>c){return c}else if(a<b){return b}return a}function L(a,b){var c=a%b;if(c>b/2)return a+b-c;return a-c}function M(a){while(a<0){a+=Math.PI*2}return a%(Math.PI*2)}function N(a,b){return Math.sqrt(a*a+b*b)}var e="-"+F().toLowerCase()+"-",f=H(),g=I(),h=60,j=50,k=j*5,l=false,m=false,n=false,o,p,q,r,s,t,u={scrollSpeed:50,rotationSpeed:Math.PI/15},v={wrapAround:false,drawPath:false,scrollBar:true},w={init:function(c){if(this.length>1||l)a.error("jQuery.scrollPath can only be initialized on *one* element *once*");a.extend(v,c);l=true;r=this;q=p.getPath();y();B(0);r.css("position","relative");a(b).on("resize",function(){B(o)});return this},getPath:function(b){a.extend(u,b);return p||(p=new x(u.scrollSpeed,u.rotationSpeed))},scrollTo:function(b,c,e,f){var g=C(b);if(g===d)a.error("jQuery.scrollPath could not find scroll target with name '"+b+"'");var h=g-o;if(v.wrapAround&&Math.abs(h)>q.length/2){if(g>o){h=-o-q.length+g}else{h=q.length-o+g}}A(h,c,e,f);return this}};a.fn.scrollPath=function(b){if(w[b]){return w[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return w.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist on jQuery.scrollPath")}}})(jQuery,window,document)